![Lint](https://github.com/chainsafe/files-api-spec/workflows/Lint/badge.svg)

# OpenAPI Specification for the Files API

The OpenAPI Specification referenced [here](https://github.com/OAI/OpenAPI-Specification)is a community-driven open specification within the [OpenAPI Initiative](https://www.openapis.org/), a Linux Foundation Collaborative Project.

## The Linter used

**Redoc Lint** is the linter chosen for this project and can be referenced [here](https://redoc.ly/docs/cli/commands/lint/). It is a flexible JSON/YAML linter, with out of the box support for OpenAPI v2/v3 and AsyncAPI v2.

### Install the dependencies

```
yarn install
```

### Run the linter on the specification File

```
make
```

## Typescript API Client Generation

To generate a typescript client for the API, .net core 2.2 is required.

### Installing .NET Core Runtime on Linux (Debian/Ubuntu)

```
wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
```

followed by

```
sudo apt-get update; \
  sudo apt-get install -y apt-transport-https && \
  sudo apt-get update && \
  sudo apt-get install -y dotnet-runtime-2.2
```

### Installing .NET Core Runtime on MacOS

https://dotnet.microsoft.com/download/dotnet/thank-you/runtime-2.2.8-macos-x64-installer

### Generating a client

```
yarn build-client
```

### Generating Docs

```
yarn build-docs
```

### Publishing a new release

Run the following
```
npm login
```

Run the publish or pre-publish script according to your needs:
```
yarn publish-prerelease
```
or
```
yarn publish-package
```
